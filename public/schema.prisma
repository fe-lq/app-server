generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

model comment {
  authorId Int
  id       Int    @id @default(autoincrement())
  content  String

  @@index([authorId])
}

model goods {
  goods_id         Int      @id @unique(map: "id_UNIQUE") @default(autoincrement())
  goods_name       String   @db.VarChar(45)
  goods_price      Int
  goods_amount     Int?     @default(0)
  goods_imgs       String
  goods_type       Int
  goods_on_sale    Boolean? @default(false)
  goods_desc       String?  @db.VarChar(45)
  goods_sell_count Int?
  goods_is_del     Boolean? @default(false)

  @@index([goods_type])
}

model goods_types {
  id        Int     @id @unique(map: "id_UNIQUE") @default(autoincrement())
  type_code String  @unique(map: "typeCode_UNIQUE") @db.VarChar(45)
  type_name String  @unique(map: "typeName_UNIQUE") @db.VarChar(45)
  type_memo String? @db.VarChar(45)
}

model menu {
  id           Int     @id @unique(map: "id_UNIQUE") @default(autoincrement())
  icon         String? @db.LongText
  menu_path    String  @unique(map: "path_UNIQUE") @db.VarChar(45)
  menu_name    String  @unique(map: "name_UNIQUE")
  perm_node    Int?    @default(0)
  menu_level   Int     @default(0)
  parentId     Int?
  permissionId Int?

  @@index([parentId])
  @@index([permissionId])
}

model permission {
  id        Int    @id @unique(map: "id_UNIQUE") @default(autoincrement())
  role_name String @unique(map: "role_name_UNIQUE") @db.VarChar(45)
}

model users {
  user_id      Int       @id @unique(map: "id_UNIQUE") @default(autoincrement())
  user_name    String    @db.VarChar(45)
  password     String    @db.VarChar(60)
  phone        String    @unique(map: "phone_UNIQUE") @db.Char(45)
  email        String?   @db.VarChar(45)
  create_date  DateTime? @default(now())
  status       Boolean   @default(false)
  permissionId Int?

  @@index([permissionId])
}
